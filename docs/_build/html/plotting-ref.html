
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Plotting &#8212; chombopy 0.1.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Inputs" href="inputs-ref.html" />
    <link rel="prev" title="Inputs" href="inputs.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-chombopy.plotting">
<span id="plotting"></span><h1>Plotting<a class="headerlink" href="#module-chombopy.plotting" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="chombopy.plotting.PltFile">
<em class="property">class </em><code class="sig-prename descclassname">chombopy.plotting.</code><code class="sig-name descname">PltFile</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">load_data=True</em>, <em class="sig-param">inputs_file='inputs'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to represent a Chombo plot file.</p>
<dl class="method">
<dt id="chombopy.plotting.PltFile.get_box_comp_data">
<code class="sig-name descname">get_box_comp_data</code><span class="sig-paren">(</span><em class="sig-param">data_unshaped</em>, <em class="sig-param">level</em>, <em class="sig-param">indices</em>, <em class="sig-param">comp_name</em>, <em class="sig-param">n_cells_dir</em>, <em class="sig-param">coords</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_box_comp_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_box_comp_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a list of data values from a Chombo HDF5 file into structured data</p>
<dl class="simple">
<dt>data_unshaped<span class="classifier">list</span></dt><dd><p>1D list of data values</p>
</dd>
<dt>level<span class="classifier">int</span></dt><dd><p>Level of refinement data is from</p>
</dd>
<dt>indices<span class="classifier">tuple</span></dt><dd><p>Upper and lower limits to sample from <cite>data_unshaped</cite></p>
</dd>
<dt>comp_name<span class="classifier">str</span></dt><dd><p>Name of the field this data represents</p>
</dd>
<dt>n_cells_dir<span class="classifier">tuple</span></dt><dd><p>Number of cells in each spatial dimension i.e. (Nx, Ny, Nz)</p>
</dd>
<dt>coords<span class="classifier">dict</span></dt><dd><p>Coordinates in each spatial dimension,
e.g. {‘i’: [0,1,2,3], ‘j’: [0,1,2,3]}</p>
</dd>
</dl>
<dl class="simple">
<dt>xarray.DataArray</dt><dd><p>Structured data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_coordinates">
<code class="sig-name descname">get_coordinates</code><span class="sig-paren">(</span><em class="sig-param">lo</em>, <em class="sig-param">hi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coordinates in index space given the low and high box limits</p>
<dl class="simple">
<dt>lo<span class="classifier">tuple</span></dt><dd><p>Lower limits of the domain in each dimension e.g. (0, 0).</p>
</dd>
<dt>hi<span class="classifier">tuple</span></dt><dd><p>Upper limits of the domain in each dimension e.g. (5, 5).</p>
</dd>
</dl>
<dl class="simple">
<dt>dict</dt><dd><p>coordinates (in index space) in each dimension
e.g. {‘i’: numpy.array([0,1,2,3,4,5]), ‘j’: numpy.array([0,1,2,3,4])}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><em class="sig-param">var_name</em>, <em class="sig-param">rotate_dims=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data for some field, added for legacy support</p>
<dl class="simple">
<dt>var_name<span class="classifier">str</span></dt><dd><p>Field to get data for</p>
</dd>
<dt>rotate_dims<span class="classifier">bool, optional</span></dt><dd><p>Whether to transpose the field to match expected alignment of axis</p>
</dd>
</dl>
<dl class="simple">
<dt>numpy.array</dt><dd><p>Data values for given field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_indices">
<code class="sig-name descname">get_indices</code><span class="sig-paren">(</span><em class="sig-param">box</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse box extents from Chombo HDF5 files into low and high limits</p>
<dl class="simple">
<dt>box<span class="classifier">list</span></dt><dd><p>Chombo HDF5 format box limits,
e.g. [x_lo, y_lo, x_hi, y_hi] = [0,0,1,1]</p>
</dd>
</dl>
<dl class="simple">
<dt>lo, hi<span class="classifier">list</span></dt><dd><p>Low and high limits, [x_lo, y_lo, …], [x_hi, y_hi, …]
e.g [0,0], [1,1]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_level_data">
<code class="sig-name descname">get_level_data</code><span class="sig-paren">(</span><em class="sig-param">field</em>, <em class="sig-param">level=0</em>, <em class="sig-param">valid_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_level_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_level_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data for some field on a particular level of refinement.</p>
<dl class="simple">
<dt>field<span class="classifier">str</span></dt><dd><p>The field/component name to get data for</p>
</dd>
<dt>level<span class="classifier">int</span></dt><dd><p>The level of refinement to get data on</p>
</dd>
<dt>valid_only<span class="classifier">bool</span></dt><dd><p>Whether to set covered (not valid) regions to NaN. Covered regions are those
which are covered by finer levels.</p>
</dd>
</dl>
<dl class="simple">
<dt>xarray.DataArray</dt><dd><p>Data for the specified field on the given level.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_mesh_grid">
<code class="sig-name descname">get_mesh_grid</code><span class="sig-paren">(</span><em class="sig-param">rotate_dims=False</em>, <em class="sig-param">extend_grid=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_mesh_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_mesh_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns coordinate grids in each dimension</p>
<dl class="simple">
<dt>rotate_dims<span class="classifier">bool, optional</span></dt><dd><p>Whether to transpose the grids</p>
</dd>
<dt>extend_grid<span class="classifier">bool, optional</span></dt><dd><p>Whether to extend the grid by <span class="math notranslate nohighlight">\(\Delta x/2\)</span> in each dimension to cover the domain edges,
rather than stopping at the center of the cells on the edge of the domain.</p>
</dd>
</dl>
<dl class="simple">
<dt>x, y, z<span class="classifier">numpy.mgrid</span></dt><dd><p>Grid in each dimension</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_mesh_grid_n">
<em class="property">static </em><code class="sig-name descname">get_mesh_grid_n</code><span class="sig-paren">(</span><em class="sig-param">arr</em>, <em class="sig-param">grow=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_mesh_grid_n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_mesh_grid_n" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>arr<span class="classifier">xarray.DataArray</span></dt><dd><p>Data Array for some field, which must contain coordinates</p>
</dd>
<dt>grow<span class="classifier">int</span></dt><dd><p>Number of grid cells to extend grid by in each dimension</p>
</dd>
</dl>
<dl class="simple">
<dt>x, y<span class="classifier">numpy.array</span></dt><dd><p>coordinates in x and y directions</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_mesh_grid_xarray">
<em class="property">static </em><code class="sig-name descname">get_mesh_grid_xarray</code><span class="sig-paren">(</span><em class="sig-param">arr</em>, <em class="sig-param">grow=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_mesh_grid_xarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_mesh_grid_xarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the coordinates for the given DataArray as numpy arrays</p>
<dl class="simple">
<dt>arr<span class="classifier">xarray.DataArray</span></dt><dd><p>DataArray (including coordinates) to get coordinates for</p>
</dd>
<dt>grow<span class="classifier">bool</span></dt><dd><p>Whether to grow the domain by <span class="math notranslate nohighlight">\(\Delta x/2\)</span> in each direction to extend to the edges of the domain</p>
</dd>
</dl>
<dl class="simple">
<dt>x, y<span class="classifier">numpy.array</span></dt><dd><p>Coordinates in x and y directions.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.get_rotate_dims">
<code class="sig-name descname">get_rotate_dims</code><span class="sig-paren">(</span><em class="sig-param">rotate_dims</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.get_rotate_dims"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.get_rotate_dims" title="Permalink to this definition">¶</a></dt>
<dd><p>Backward compatibility fix. Originally user had to ask to rotate dimensions to match
python indexing. We now do this by default.</p>
<dl class="simple">
<dt>rotate_dims<span class="classifier">bool</span></dt><dd><p>Whether to transpose the spatial dimensions.</p>
</dd>
</dl>
<dl class="simple">
<dt>bool</dt><dd><p>Backwards compatible option for whether to transpose spatial dimensions.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param">zero_x=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the data for this plotfile.</p>
<dl class="simple">
<dt>zero_x<span class="classifier">bool, optional</span></dt><dd><p>Whether to shift the axes so that the bottom corner is at <span class="math notranslate nohighlight">\(x=0\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.plot_field">
<code class="sig-name descname">plot_field</code><span class="sig-paren">(</span><em class="sig-param">field</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.plot_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.plot_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the field using matplotlib and some default options.</p>
<dl class="simple">
<dt>field<span class="classifier">str</span></dt><dd><p>Field name to plot</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.plot_outline">
<code class="sig-name descname">plot_outline</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">level</em>, <em class="sig-param">colors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.plot_outline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.plot_outline" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot level outline for a particular color</p>
<dl class="simple">
<dt>ax<span class="classifier">matplotlib.axes</span></dt><dd><p>Axes to plot onto</p>
</dd>
<dt>level<span class="classifier">int</span></dt><dd><p>Level outline to plot</p>
</dd>
<dt>colors<span class="classifier">list, optional</span></dt><dd><p>List of colours to plot on each level, from which the relevant colour for the required level is sampled.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.plot_outlines">
<code class="sig-name descname">plot_outlines</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">colors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.plot_outlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.plot_outlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot all level outlines (except level 0)</p>
<dl class="simple">
<dt>ax<span class="classifier">matplotlib.axes</span></dt><dd><p>Axes to plot onto</p>
</dd>
<dt>colors<span class="classifier">list, optional</span></dt><dd><p>List of colours to plot on each level, from which the relevant colour for the required level is sampled.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.reset_scale_slice_transform">
<code class="sig-name descname">reset_scale_slice_transform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.reset_scale_slice_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.reset_scale_slice_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset transform settings to their initial value (none)</p>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.scale_slice_transform">
<code class="sig-name descname">scale_slice_transform</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">no_reflect=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.scale_slice_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.scale_slice_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform transformations on the dataset.</p>
<dl class="simple">
<dt>data<span class="classifier">xarray.DataArray</span></dt><dd><p>data to be transformed</p>
</dd>
<dt>no_reflect<span class="classifier">bool</span></dt><dd><p>Whether to override the pre-defined choices to reflect data or not in this transformation</p>
</dd>
</dl>
<dl class="simple">
<dt>xarray.DataArray</dt><dd><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.set_scale_slice_transform">
<code class="sig-name descname">set_scale_slice_transform</code><span class="sig-paren">(</span><em class="sig-param">indices</em>, <em class="sig-param">reflect=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.set_scale_slice_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.set_scale_slice_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe how to extract data.</p>
<p>indices :
reflect : bool</p>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.should_negate_field_upon_reflection">
<code class="sig-name descname">should_negate_field_upon_reflection</code><span class="sig-paren">(</span><em class="sig-param">field</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.should_negate_field_upon_reflection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.should_negate_field_upon_reflection" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to change the sign of certain fields upon reflection given their name.</p>
<dl class="simple">
<dt>field<span class="classifier">str</span></dt><dd><p>Name of field</p>
</dd>
</dl>
<dl class="simple">
<dt>bool</dt><dd><p>Whether to change the sign of the field upon reflection</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.skip_component_import_names">
<code class="sig-name descname">skip_component_import_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.skip_component_import_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.skip_component_import_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides an interface to skip the import of certain component names</p>
<dl class="simple">
<dt>List</dt><dd><p>component names to not import</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chombopy.plotting.PltFile.unload_data">
<code class="sig-name descname">unload_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/chombopy/plotting.html#PltFile.unload_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chombopy.plotting.PltFile.unload_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete existing data (e.g. to save memory)</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">chombopy</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=jrgparkinson&repo=chombopy&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="inputs.html">Inputs</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="inputs-ref.html">Inputs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="inputs.html" title="previous chapter">Inputs</a></li>
      <li>Next: <a href="inputs-ref.html" title="next chapter">Inputs</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Jamie Parkinson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/plotting-ref.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>